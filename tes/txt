erDiagram
    USERS ||--o{ KARYAWAN : "mengelola"
    KARYAWAN ||--o{ TRANSAKSI_PENJUALAN : "melayani"
    KARYAWAN ||--o{ TRANSAKSI_PEMBELIAN : "menginput"
    SUPPLIER ||--o{ TRANSAKSI_PEMBELIAN : "menyediakan"
    GUDANG ||--o{ PRODUK : "menyimpan"
    PRODUK ||--o{ DETAIL_PENJUALAN : "terdiri dari"
    PRODUK ||--o{ DETAIL_PEMBELIAN : "terdiri dari"
    TRANSAKSI_PENJUALAN ||--o{ DETAIL_PENJUALAN : "memiliki"
    TRANSAKSI_PEMBELIAN ||--o{ DETAIL_PEMBELIAN : "memiliki"
    MEMBERSHIP ||--o{ TRANSAKSI_PENJUALAN : "mendapatkan"
    DISKON ||--o{ PRODUK : "berlaku pada"

    USERS {
        int id
        string name
        string email
        string password
    }

    KARYAWAN {
        int id
        string nama
        string jabatan
        string no_telepon
        string alamat
        int user_id  "FK -> users.id"
    }

    SUPPLIER {
        int id
        string nama
        string no_telepon
        string alamat
    }

    GUDANG {
        int id
        string nama_gudang
        string lokasi
    }

    PRODUK {
        int id
        string nama_produk
        string kode_produk
        int stok
        decimal harga_beli "Gunakan decimal(15,2)"
        decimal harga_jual "Gunakan decimal(15,2)"
        int gudang_id "FK -> gudang.id"
        int diskon_id "FK -> diskon.id (nullable)"
    }

    DISKON {
        int id
        string nama_diskon
        decimal persentase "Gunakan decimal(5,2)"
        date tanggal_mulai
        date tanggal_akhir
    }

    MEMBERSHIP {
        int id
        string nama_member
        string no_member
        decimal potongan "Gunakan decimal(15,2)"
    }

    TRANSAKSI_PENJUALAN {
        int id
        date tanggal
        int karyawan_id "FK -> karyawan.id"
        int membership_id "FK -> membership.id (nullable)"
        decimal total_harga "Gunakan decimal(15,2)"
        decimal total_diskon "Gunakan decimal(15,2)"
        decimal total_bayar "Gunakan decimal(15,2)"
        string metode_pembayaran
    }

    DETAIL_PENJUALAN {
        int id
        int transaksi_penjualan_id "FK -> transaksi_penjualan.id"
        int produk_id "FK -> produk.id"
        int jumlah
        decimal harga_satuan "Gunakan decimal(15,2)"
        decimal subtotal "Gunakan decimal(15,2)"
    }

    TRANSAKSI_PEMBELIAN {
        int id
        date tanggal
        int supplier_id "FK -> supplier.id"
        int karyawan_id "FK -> karyawan.id"
        decimal total_biaya "Gunakan decimal(15,2)"
    }

    DETAIL_PEMBELIAN {
        int id
        int transaksi_pembelian_id "FK -> transaksi_pembelian.id"
        int produk_id "FK -> produk.id"
        int jumlah
        decimal harga_beli "Gunakan decimal(15,2)"
        decimal subtotal "Gunakan decimal(15,2)"
    }
